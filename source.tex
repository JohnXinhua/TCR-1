\documentclass[a4paper]{article}

\usepackage[english]{babel}
\usepackage[utf8]{inputenc}
\usepackage{textcomp}
\usepackage{amsmath}
\usepackage{graphicx}
\usepackage{float}
\usepackage{listings}
\usepackage{color}
\usepackage[margin=1in]{geometry}
\usepackage[colorinlistoftodos]{todonotes}
\usepackage[toc]{multitoc}
\usepackage{ifthen}

\renewcommand*{\multicolumntoc}{2}
\setlength{\columnseprule}{0.5pt}

\lstset{
    backgroundcolor=\color{white},
    tabsize=3,
    language=C++,
    basicstyle=\footnotesize\ttfamily,
    frame=lines,
    numbers=left,
    numberstyle=\tiny,
    numbersep=5pt,
    breaklines=true,
    showstringspaces=false,
    keywordstyle=\color[rgb]{0, 0, 1},
    commentstyle=\color[rgb]{0, 0.5, 0},
    stringstyle=\color{red}    
}

\definecolor{usertype}{RGB}{43,145,175}
\definecolor{macro}{RGB}{111,0,138}
\lstset{emph=[1]{pair,vector,map,queue,priority\_queue,greater,
                 stack,ii,vi,vvi,vii,vvii,vb,ll,ld,UnionFind,
                 coord,point,line,LineType,bitset,size\_t},
        emphstyle=[1]{\color{usertype}},
        emph=[2]{INF,EPSILON,RES\_PHI,\_MSC\_VER,popcount},
        emphstyle=[2]{\color{macro}},
        emph=[3]{nullptr},
        emphstyle=[3]{\color{blue}}}

\title{Team Code Reference}
\author{
    Timon Knigge
}

% \entry{name}{description}{snippet location}{complexity}{dependencies}
\newcommand{\entry}[5]{
    \subsection{#1}
    #2
    
    \ifthenelse{\equal{#4}{}}{}{\noindent\textbf{Complexity:} #4}
    
    \ifthenelse{\equal{#5}{}}{}{\noindent\textbf{Dependencies:} #5}
    \lstinputlisting[language=C++]{#3}
}

\begin{document}
  \maketitle
  \tableofcontents
  \clearpage
    
  \section{Template}
    \entry{C++ Template}{}{snippets/header.h}{}{}
    \todo{Fix includes}
    \subsection{Java Template*}
    
  \section{Data Structures}
    
    \entry{Union Find}{}{snippets/datastructures/unionfind.cpp}{}{}
    \todo{Revise UF, compare with existing implementations.}
    
    \entry{Max Queue}{\texttt{dequeue} runs in amortized constant time. Can be modified to query minimum, gcd/lcm, set union/intersection (use bitmasks), etc.}{snippets/datastructures/maxqueue.cpp}{}{}
    
    \subsection{Fenwick Tree*}
    
    \subsection{Sparse table*}    
    
    \subsection{Range Minimum Query*}
    
    \subsection{Segment tree*}
    
    \subsection{Prefix Trie*}
    
    \subsection{Suffix array*}
    
    \subsection{Heavy-Light decomposition*}
    
  \section{Graph algorithms}
     
    \entry{Edge Classification}{}{snippets/graphs/edgeclassification.cpp}{$O(V + E)$}{}
    
    \subsection{Articulation points and bridges*}
    
    \entry{Topological sort}{}{snippets/graphs/toposort.cpp}{$O(V + E)$}{}
        
    \subsection{Floodfill*}
    
    \entry{Kruskal's algorithm}{}{snippets/graphs/kruskal.cpp}{$O(E \log_2 V)$}{Union Find}
    
    \subsection{Biconnected components*}
    
    \subsection{Strongly connected components*}
    
    \subsection{Kosaraju's algorithm*}
    
    \entry{Dijkstra's algorithm}{}{snippets/graphs/dijkstra.cpp}{$O((V + E) \log_2 V)$}{}
    
    \entry{Bellmann-Ford algorithm}{There exists a negative cycle if we can relax a weight in a $V$'th iteration.}{snippets/graphs/bellmannford.cpp}{$O(VE)$}{}
    
    \entry{Floyd-Warshall algorithm}{Transitive closure: \texttt{R[a,c] = R[a,c] | (R[a,b] \& R[b,c]))}, transitive reduction: \texttt{R[a,c] = R[a,c] \& !(R[a,b] \& R[b, c]).}}{snippets/graphs/floydwarshall.cpp}{$O(V^3)$}{}
    
    \subsection{Edmonds-Karp algorithm*}
    
    \subsection{Dinic's algorithm*}
    
    \subsection{Push-relabel algorithm*}
    
    \subsection{Fleury's algorithm*}
    
    \subsection{Dilworth's theorem, Mirsky's theorem}
    \begin{description}
    \item[Dilworth's theorem]: The minimum number of disjoint chains into which S can be decomposed equals the length of a longest antichain of S.
    
    Compute by defining a bipartite graph with a source $u_x$ and sink $v_x$ for each vertex $x$, and adding an edge $(u_x, v_y)$ if $x \leq y, x \neq y$. Let $m$ denote the size of the maximum matching, then the number of disjoint chains is $|S| - m$ (the collection of unmatched endpoints).
    
    \item[Mirsky's theorem]: The minimum number of disjoint antichains into which S can be decomposed equals the length of a longest chain of S.
    
    Compute by defining $L_v$ to be the length of the longest chain ending at $v$. Sort $S$ topologically and use bottom-up DP to compute $L_u$ for all $u \in S$.
    \end{description}
    \todo{Implement Mirsky's. Maybe Dilworth's too?}
    
  \section{Combinatorics \& Probability}
  
    \subsection{Essentials*}
  
    \subsection{Hopcroft-Karp algorithm*}
    
    \subsection{Hungarian algorithm*}
    
    \subsection{Meet-in-the-middle*}
    
    \subsection{2-SAT*}
    
  \section{Computational geometry}
    
    \entry{Essentials}{}{snippets/geometry/geometryessentials.cpp}{}{}
    \todo{Add numerically stable line intersection check.}
    
    \entry{Convex Hull}{}{snippets/geometry/convexhull.cpp}{$O(n \log_2 n)$}{Geometry Essentials}
    \todo{Revise, consider existing implementations}
    
    \subsection{Halfspace intersections*}
    
  \section{Mathematics}
    
    \entry{Primes}{}{snippets/mathematics/primes.cpp}{}{}
    \todo{Rewrite Totient function}
    
    \entry{Number theoretic algorithms}{}{snippets/mathematics/numbertheory.cpp}{}{}
    
    \subsection{BigInteger*}
        
  \section{Strings}
  
    \entry{Knuth Morris Pratt}{}{snippets/strings/knuthmorrispratt.cpp}{$O(n + m)$}{}
    
  \section{Helpers}
  
    \entry{Golden Section Search}{}{snippets/helpers/goldensectionsearch.cpp}{$O(\log_2 {1 / \epsilon})$}{}
    \todo{Write integer search}
    
    \entry{Binary Search}{}{snippets/helpers/binarysearch.cpp}{$O(\log_2 n), O(\log_2 {1 / \epsilon})$}{}
    
    \entry{Bitmasking}{}{snippets/helpers/bitmasking.cpp}{}{}
    
\end{document}